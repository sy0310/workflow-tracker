-- 调试更新操作的详细测试

-- 1. 首先确认项目ID 19的当前状态
SELECT 
    id,
    项目名称,
    状态,
    负责人,
    优先级,
    创建时间,
    "更新时间"
FROM "活动策划" 
WHERE id = 19;

-- 2. 测试一个简单的更新操作（模拟前端发送的数据）
-- 这个更新只改变状态字段
UPDATE "活动策划" 
SET 状态 = 2, "更新时间" = CURRENT_TIMESTAMP 
WHERE id = 19;

-- 3. 检查更新是否成功
SELECT 
    id,
    项目名称,
    状态,
    "更新时间"
FROM "活动策划" 
WHERE id = 19;

-- 4. 测试更复杂的更新（包含多个字段）
UPDATE "活动策划" 
SET 
    项目名称 = '测试更新项目',
    状态 = 1,
    负责人 = '测试负责人',
    "更新时间" = CURRENT_TIMESTAMP 
WHERE id = 19;

-- 5. 再次检查更新结果
SELECT 
    id,
    项目名称,
    状态,
    负责人,
    "更新时间"
FROM "活动策划" 
WHERE id = 19;

-- 6. 恢复原始数据（可选）
-- UPDATE "活动策划" SET 项目名称 = '年度客户答谢会', 状态 = 2, 负责人 = '王五' WHERE id = 19;
